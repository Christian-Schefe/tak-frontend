@let curGame = currentGame();
@let ongoingGame = game();
@let gamePlayers = players();
@if (curGame && ongoingGame && gamePlayers) {
  <app-game-component
    [game]="ongoingGame"
    (action)="onLocalAction($event)"
    (setHistoryPlyIndex)="onSetHistoryPlyIndex($event)"
    [mode]="curGame.mode"
    [players]="gamePlayers"
    [requests]="requests()"
    (resign)="onResign()"
    (requestDraw)="onRequestDraw()"
    (requestUndo)="onRequestUndo()"
    (retractRequest)="onRetractRequest($event)"
    (requestDecision)="onRequestDecision($event.requestId, $event.decision)"
  ></app-game-component>
} @else {
  <p>No ongoing game.</p>
}
